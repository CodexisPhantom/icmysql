<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ICMySQL</title>
    <link rel="stylesheet" href="./styles/root.css">
    <link rel="stylesheet" href="./styles/app.css">
    <link rel="stylesheet" href="./styles/resources.css">
    <link rel="stylesheet" href="./styles/input.css">
    <link rel="stylesheet" href="./styles/database.css">
    <link rel="stylesheet" href="./styles/logs.css">
    <link rel="stylesheet" href="./styles/cache.css">
    <link rel="stylesheet" href="./styles/backup.css">
    <link rel="stylesheet" href="./styles/intercept.css">
    <link rel="stylesheet" href="./styles/tabs.css">
    <link rel="stylesheet" href="./styles/traffic-light.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <script src="https://kit.fontawesome.com/1c4b4851e0.js" crossorigin="anonymous"></script>
    <script src="https://cdn.lordicon.com/bhenfmcm.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.62.0/codemirror.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.62.0/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.62.0/mode/javascript/javascript.min.js"></script>
</head>

<body id="body">
    <section class="container" id="main-container" style="display: none;">
        <div class="menu animate__animated"  style="display: none;">
            <video src="./assets/bg.mp4" autoplay muted loop></video>
            <main class="main">
                <!-- HOME -->
                <section class="section__buttons" id="section__buttons">
                    <div class="grid">
                        <div class="profile__section">
                            <h1 class="title">Debuger</h1>
                            <div class="container--profile">
                                <div class="profile--content">
                                    <h1 class="profile__name">kdex</h1>
                                    <div class="profile__image">
                                        <img src="./assets/user.png">
                                    </div>
                                </div>

                            </div>
                        </div>
                        <div class="resources__section button__style" onclick="OpenSection('section__resources')">
                            <i class="fa-solid fa-scroll"></i>
                            <p>Resources</p>
                        </div>

                        <div class="dbs__section button__style" onclick="OpenSection('section__dbs')">
                            <i class="fa-solid fa-database"></i>
                            <p>Database</p>
                        </div>

                        <div class="logs__section button__style" onclick="OpenSection('section__logs')">
                            <i class="fa-solid fa-list"></i>
                            <p>Logs</p>
                        </div>

                        <div class="cache__section button__style" onclick="OpenSection('section__cache')">
                            <i class="fa-solid fa-clock-rotate-left"></i>
                            <p>Cache</p>
                        </div>

                        <div class="backups__section button__style" onclick="OpenSection('section__backup')">
                            <i class="fa-solid fa-memory"></i>
                            <p>backups</p>
                        </div>
                        <div class="interceptor__section button__style" onclick="OpenSection('section__interceptor')">
                            <i class="fa-solid fa-traffic-light"></i>
                            <p>Interceptor</p>
                        </div>
                    </div>
                </section>

                <!-- RESOURCES -->
                <section class="section__resources" id="section__resources">
                    <div class="modal_container" id="resourceModal">
                        <div class="modal--style popup_container animate__animated">
                            <div class="modal--title">
                                <h1 class="txt--title" id="resourceModalTitle">ice core</h1>
                                <i onclick="CloseResourceModal()" class="icon--modal fa-solid fa-times"></i>
                            </div>
                            <div class="container__content --modal">
                                <div class="shadow-sm rounded p-4 table__container">
                                    <table class="tablaContent">
                                        <thead>
                                            <tr>
                                                <th style="width:10%">DB</th>
                                                <th style="width: 50% !important;">Query</th>
                                                <th style="width:20%">Values</th>
                                                <th style="width:13%;">Time</th>
                                            </tr>
                                        </thead>
                                        <tbody id="resourceModalBody">

                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="return" onclick="GoBack()">
                        <a class="icon btn__style">Back</a>
                    </div>
                    <div class="row">
                        <div class="rs--grid adj">

                            <div class="container__title">
                                <h1>Resources</h1>
                                <div class="inputBox_container">
                                    <lord-icon class="search_icon" src="https://cdn.lordicon.com/rlizirgt.json"
                                        trigger="hover" colors="primary:#494a4d">
                                    </lord-icon>
                                    <input class="inputBox" id="inputBox" type="text" placeholder="Find Resources">
                                </div>
                            </div>
                            <div class="container__content">
                                <div class="scroll" id="resources-content">

                                </div>
                            </div>
                        </div>
                        <div class="rs--grid stats">
                            <div class="rs--grid">
                                <div class="container__title">
                                    <h1>Stats</h1>
                                </div>
                                <div class="container__content --stats">
                                    <div class="rs--grid">
                                        <div class="tags--wrapper">
                                            <div class="tags" id="statsQueries">Queries: 200</div>
                                            <div class="tags" id="statsSlowQueries">Slow queries: 120</div>
                                            <div class="tags" id="statsAverageQueries">Average queries: 10</div>
                                            <div class="tags" id="statsTimeQuerying">Time querying: 10</div>
                                            <div class="tags" id="statsScripts">Scripts: 10</div>
                                            <div class="tags" id="statsDBCount">Databases used: 10</div>
                                            <div class="tags" id="statsFailedQueries">Failed queries: 100</div>
                                        </div>
                                        <div class="container__content --graphic"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="section__dbs" id="section__dbs">
                    <div class="container--dbs">
                        <div class="container__title">
                            <h1>Databases</h1>
                        </div>

                        <div class="container__content">
                            <div class="scroll__dbs" id="dbs-content">

                            </div>
                        </div>
                    </div>
                    <div class="return" onclick="GoBack()">
                        <a class="icon btn__style">Back</a>
                    </div>
                </section>

                <section class="section__logs" id="section__logs">
                    <div class="container--logs">
                        <div class="container__title">
                            <h1>Logs</h1>
                        </div>
                        <div class="container__content --logs">
                            <div class="logs--content">
                                <div class="shadow-sm rounded p-4 table__container adg--logs">
                                    <table class="tablaContent">
                                        <thead>
                                            <tr>
                                                <th style="width:10%">Type</th>
                                                <th style="width: 70% !important;">Message</th>
                                                <th style="width: 20%;">Solution</th>
                                            </tr>
                                        </thead>
                                        <tbody id="logsModalBody">

                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="return" onclick="GoBack()">
                        <a class="icon btn__style">Back</a>
                    </div>
                </section>

                <section class="section__cache" id="section__cache">
                    <div class="container--cache">
                        <div class="container__title">
                            <h1>Cache</h1>
                        </div>
                        <div class="container__content --cache">
                            <div class="cache--content">
                                <div class="shadow-sm rounded p-4 table__container adg--cache">
                                    <table class="tablaContent">
                                        <thead>
                                            <tr>
                                                <th style="width:10%">Table</th>
                                                <th style="width: 20% !important;">Hash</th>
                                                <th style="width:50%">Values</th>
                                            </tr>
                                        </thead>
                                        <tbody id="cacheModalBody">

                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="return" onclick="GoBack()">
                        <a class="icon btn__style">Back</a>
                    </div>
                </section>

                <section class="section__backup" id="section__backup">
                    <div class="container--backup">
                        <div class="container__title">
                            <h1>Backups</h1>
                        </div>
                        <div class="container__content --backup">
                            <div class="backup--content">
                                <div class="shadow-sm rounded p-4 table__container adg--backup">
                                    <table class="tablaContent">
                                        <thead>
                                            <tr>
                                                <th style="width:33.3% !important;">Database</th>
                                                <th style="width: 33.3% !important;">Date</th>
                                                <th style="width:15.0% !important;">Size</th>
                                            </tr>
                                        </thead>
                                        <tbody id="backupModalBody">

                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="return" onclick="GoBack()">
                        <a class="icon btn__style">Back</a>
                    </div>
                </section>

                <!-- INTERCEPTOR -->
                <section class="section__interceptor" id="section__interceptor">
                    <div class="modal_container" id="interceptorModal">
                        <div class="modal--style popup_container animate__animated">
                            <div class="modal--title">
                                <h1 class="txt--title" id="resourceModalTitle">ice core</h1>
                                <i onclick="CloseResourceModal()" class="icon--modal fa-solid fa-times"></i>
                            </div>
                            <div class="container__content --modal">

                            </div>
                        </div>
                    </div>
                    <div class="return" onclick="GoBack()">
                        <a class="icon btn__style">Back</a>
                    </div>
                    <div class="row">
                        <div class="rs--grid adj">

                            <div class="container__title">
                                <h1>Interceptor</h1>
                            </div>
                            <div class="container__content">
                                <div class="container__intercepting" id="traffic-light" style="display: none;">
                                    <div class="wrap">
                                        <div class="back">
                                            <div class="layers">
                                                <div class="layer"></div>
                                                <div class="layer"></div>
                                                <div class="layer"></div>
                                                <div class="layer"></div>
                                                <div class="layer"></div>
                                                <div class="layer"></div>
                                                <div class="layer"></div>
                                                <div class="layer"></div>
                                                <div class="layer"></div>
                                                <div class="layer"></div>
                                            </div>
                                            <div class="traffic-light">
                                                <label class="switch">
                                                    <input name="value-radio" type="radio" id="redLight" disabled>
                                                    <div class="button">
                                                        <div class="light"></div>
                                                        <div class="dots"></div>
                                                    </div>
                                                </label>
                                                <label class="switch1">
                                                    <input name="value-radio" type="radio" id="greenLight"
                                                        checked="true" disabled>
                                                    <div class="button">
                                                        <div class="light"></div>
                                                        <div class="dots"></div>
                                                    </div>
                                                </label>

                                            </div>
                                        </div>

                                    </div>
                                    <h1 class="titleInt" id="intercept-traffic-title">Intercept is off</h1>

                                    <span class="wrap-text" id="intercept-traffic-desc">
                                        <p>Queries sent by the server will be hel here so that you can analyze and
                                            modify them before forwading them to the target database.</p>
                                    </span>
                                </div>

                                <div class="container__tabs " id="raquestDataContainer">
                                    <div data-ui-tablist="navigation" class="tabs">
                                        <div class="tabs-marker" style="width: 71px; translate: 8px;"></div>
                                        <button data-ui-tablist-tab="rawc" class="tabs-tab">RAW</button>
                                        <button data-ui-tablist-tab="queryc" class="tabs-tab">Query</button>
                                        <button data-ui-tablist-tab="optionsc" class="tabs-tab">Options</button>

                                    </div>
                                    <div class="tabpanels">
                                        <div id="rawc" class="tabpanel ui-active" style="justify-content: flex-start;">
                                            <div id="json-viewer"></div>
                                        </div>
                                        <div id="queryc" class="tabpanel hidden" style="justify-content: flex-start;">
                                            <div id="json-viewer-query"></div>
                                        </div>
                                        <div id="optionsc" class="tabpanel --options hidden" role="tabpanel"
                                            aria-labelledby="ui-g866gvihbj" tabindex="0">
                                            <div style="grid-column: span 2;display: flex;gap: 0.5vh;">
                                                <div class="options--style option_id" style="width: 20%;max-height: 0.5vh;">
                                                    <h3 style="margin-left: 1.5vh;color: #a6a6a6;">ID:</h3>
                                                    <input type="text" class="input__style inputBox" value="1">
                                                </div>

                                                <div class="options--style option_id" style="width: 100%;">
                                                    <input type="text" class="input__style inputBox" value="SELECT * FROM players WHERE id = ?">
                                                </div>
                                            </div>

                                            <div class="options--style option_id" style="grid-row: span 4;grid-column: span 2;height: 100%;justify-content: flex-start;text-align: start;align-items: flex-start;">
                                                <textarea type="text" class="input__style inputBox" value="[&quot;UTYF8274&quot;]" style="resize: none;height: 100%;">["UTYF8274"]</textarea>
                                            </div>

                                            <div class="options--style option_id" style="max-height: 0.5vh;">
                                                <h3 style="margin-left: 1.5vh;color: #a6a6a6;">Script:</h3>
                                                <input type="text" class="input__style inputBox" value="ic_gym">
                                            </div>

                                            <div class="options--style option_id" style="max-height: 0.5vh;">
                                                <h3 style="margin-left: 1.5vh;color: #a6a6a6;">Type:</h3>
                                                <input type="text" class="input__style inputBox" value="Prepare">
                                            </div>

                                            <div class="options--style option_id" style="grid-column: span 2;max-height: 0.5vh;">
                                                <h3 style="margin-left: 1.5vh;color: #a6a6a6;">Hash:</h3>
                                                <input type="text" class="input__style inputBox" value="hash_82fuuw7d934hf2">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="rs--grid stats">
                            <div class="rs--grid">
                                <div class="container__title">
                                    <h1>Stats</h1>
                                </div>
                                <div class="container__content --stats">
                                    <div class="rs--grid">
                                        <div class="intercept--wrapper">
                                            <button class="button_intercept--style active" id="btnIntercept"
                                                style="grid-column: span 2;">Intercept is off</button>
                                            <button class="button_intercept--style" id="btnforward">Forward</button>
                                            <button class="button_intercept--style" id="btndrop">Drop</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </main>
        </div>
    </section>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js"
        integrity="sha512-3gJwYpMe3QewGELv8k/BX9vcqhryRdzRMxVfq6ngyWXwo03GFEzjsUm8Q7RZcHPHksttq7/GFoxjCVUjkjvPdw=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://unpkg.com/node-sql-parser/umd/mysql.umd.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@textea/json-viewer@3"></script>
    <script src="./js/app.js"></script>
    <script src="./js/tabs.js" type="module"></script>
    <script>
        new JsonViewer({
            value: {
                "glossary": {
                    "title": "example glossary",
                    "GlossDiv": {
                        "title": "S",
                        "GlossList": {
                            "GlossEntry": {
                                "ID": "SGML",
                                "SortAs": "SGML",
                                "GlossTerm": "Standard Generalized Markup Language",
                                "Acronym": "SGML",
                                "Abbrev": "ISO 8879:1986",
                                "GlossDef": {
                                    "para": "A meta-markup language, used to create markup languages such as DocBook.",
                                    "GlossSeeAlso": ["GML", "XML"]
                                },
                                "GlossSee": "markup"
                            }
                        }
                    }
                }
            },
            theme: 'dark',
            expand: true,
        }).render('#json-viewer')

        const parser = new NodeSQLParser.Parser()
        const ast = parser.astify("select id, name from students where age < 18")
        new JsonViewer({
            value: ast,
            theme: 'dark',
            expand: true,
        }).render('#json-viewer-query')
    </script>
</body>

</html>